
version: "3.9"

volumes:
    grafana-storage:

services:
    prometheus:
        image: prom/prometheus:latest
        ports:
            - "9090:9090"
        volumes:
          - ./prometheus.yml:/etc/prometheus/prometheus.yml
        depends_on:
            - "prometheus-pushgateway"

    prometheus-pushgateway:
        image: prom/pushgateway
        ports:
            - "9091:9091"
        container_name: prometheus-pushgateway